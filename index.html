<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard Wali Kelas â€” VII-H</title>

  <!-- Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="brand">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYCPiGhuoDL1mp18rPAMUCt98ADIyg7C297Bx4H53sxM12CtZE89tThO6KUe14s5cR0p6z8DrFQCHUJNXa1tXuFN45DJcNgU0uOW7D00l9cdkRDHUpyHFOfcHtg91R01_CXpPKKXEVS4orocyah8Z_gel0EAg6jrXno_84uYR6UDlxzpmHXOhby8Z0vyQ/s3558/LOGO%20SMP%201%20MOGA.png" alt="logo">
        <div>
          <div class="brand-title">SMP Negeri 1 Moga</div>
          <div class="brand-sub">Wali Kelas: Yanuar Bayu</div>
        </div>
      </div>

      <nav class="navmenu">
        <button class="navbtn active" data-page="home"><span class="material-icons">dashboard</span> Home</button>
        <button class="navbtn" data-page="curhat"><span class="material-icons">forum</span> Curhat</button>
        <button class="navbtn" data-page="pembinaan"><span class="material-icons">assignment</span> Pembinaan</button>
        <button class="navbtn" data-page="komunikasi"><span class="material-icons">phone</span> Komunikasi Ortu</button>
        <button class="navbtn" data-page="rekap"><span class="material-icons">summarize</span> Rekap Per Siswa</button>
      </nav>

      <div class="sidebar-footer">
        <small>yanuar.bayu62@guru.smp.belajar.id</small>
        <a href="https://yanuar-moga.github.io/guruwalibayu/datasiswa.html" class="btn btn-sm btn-outline-light mt-2">Lihat Data Siswa</a>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <!-- Topbar -->
      <div class="topbar d-flex justify-content-between align-items-center">
        <h4 id="pageTitle">Home</h4>
        <div>
          <button id="btnRefresh" class="btn btn-outline-primary btn-sm me-2"><span class="material-icons">refresh</span> Refresh</button>
          <button id="btnLogout" class="btn btn-outline-secondary btn-sm">Keluar</button>
        </div>
      </div>

      <!-- PAGES -->
      <section id="page-home" class="page active">
        <div class="row g-3">
          <div class="col-xl-4 col-md-6">
            <div class="info-card">
              <div class="info-head"><div>Jumlah Curhat</div><div id="countCurhat" class="badge bg-primary">0</div></div>
              <div><canvas id="chartCurhat" height="120"></canvas></div>
            </div>
          </div>
          <div class="col-xl-4 col-md-6">
            <div class="info-card">
              <div class="info-head"><div>Jumlah Pembinaan</div><div id="countPem" class="badge bg-primary">0</div></div>
              <div><canvas id="chartPem" height="120"></canvas></div>
            </div>
          </div>
          <div class="col-xl-4 col-md-12">
            <div class="info-card">
              <div class="info-head"><div>Komunikasi Ortu</div><div id="countKom" class="badge bg-primary">0</div></div>
              <div><canvas id="chartKom" height="120"></canvas></div>
            </div>
          </div>

          <div class="col-12">
            <div class="glass-card p-3">
              <h5>Ringkasan cepat</h5>
              <div class="row g-3" id="summaryBoxes">
                <!-- dynamic boxes -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="page-curhat" class="page">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5>Curhat Siswa</h5>
          <div>
            <input id="searchCurhat" class="form-control form-control-sm d-inline-block" placeholder="Cari nama atau teks..." style="width:240px">
            <button id="exportCurhat" class="btn btn-outline-primary btn-sm ms-2">Export CSV</button>
          </div>
        </div>
        <div class="glass-card p-3">
          <div class="table-responsive" style="min-height:120px">
            <table class="table table-striped table-hover" id="tblCurhat">
              <thead><tr><th>Waktu</th><th>Nama</th><th>Isi Curhat</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="page-pembinaan" class="page">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5>Pembinaan</h5>
          <div>
            <select id="filterPemStatus" class="form-select form-select-sm d-inline-block" style="width:180px">
              <option value="ALL">Semua Status</option>
              <option value="proses">Proses</option>
              <option value="berhasil">Berhasil</option>
              <option value="tidak lanjut">Tidak Lanjut</option>
            </select>
            <button id="exportPem" class="btn btn-outline-primary btn-sm ms-2">Export CSV</button>
          </div>
        </div>
        <div class="glass-card p-3">
          <div class="table-responsive">
            <table class="table table-striped table-hover" id="tblPem">
              <thead><tr><th>Waktu</th><th>Nama</th><th>Jenis Pelanggaran</th><th>Tindakan</th><th>Target</th><th>Catatan</th><th>Status</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="page-komunikasi" class="page">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5>Komunikasi Orang Tua</h5>
          <div>
            <select id="filterKomMetode" class="form-select form-select-sm d-inline-block" style="width:160px">
              <option value="ALL">Semua Metode</option>
              <option value="WA">WA</option>
              <option value="Telp">Telp</option>
              <option value="Tatap muka">Tatap muka</option>
            </select>
            <button id="exportKom" class="btn btn-outline-primary btn-sm ms-2">Export CSV</button>
          </div>
        </div>
        <div class="glass-card p-3">
          <div class="table-responsive">
            <table class="table table-striped table-hover" id="tblKom">
              <thead><tr><th>Waktu</th><th>Nama</th><th>Pesan</th><th>Metode</th><th>Dari</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="page-rekap" class="page">
        <h5>Rekap Per Siswa</h5>
        <div class="glass-card p-3">
          <div id="rekapWrap" class="table-responsive">
            <table class="table table-bordered" id="tblRekap">
              <thead><tr><th>Nama</th><th>Total Curhat</th><th>Total Pembinaan</th><th>Total Komunikasi</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Bootstrap + dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- app script -->
  <script src="script.js"></script>
</body>
</html>
